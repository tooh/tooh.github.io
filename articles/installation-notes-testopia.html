<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Installation notes Testopia &mdash; Daily Scrum</title>
  <meta name="author" content="Peter Florijn">






  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://blog.florijnconsultancy.nl/favicon.png" rel="icon">

  <link href="https://blog.florijnconsultancy.nl/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://blog.florijnconsultancy.nl/">Daily Scrum</a></h1>
    <h2>A personal blog.</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>

<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="blog.florijnconsultancy.nl">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>

<ul class="main-navigation">
    <li><a href="/archives.html">Archives</a></li>
    <li><a href="/categories.html">Categories</a></li>
    <li><a href="/tags.html">Tags</a></li>
    <li><a href="/pages/about.html">About</a></li>
      <li><a href="/static/file1.zip">link1</a></li>
      <li><a href="/static/file2.pdf">link2</a></li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
    
    <div id="qr-code-articles/installation-notes-testopia.html" class="qr-code-image-block"></div>
    <script src="https://blog.florijnconsultancy.nl/theme/js/qr.min.js" type="text/javascript"></script>
    <script>
        var img = qr.image({
            value: 'https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html',
            level: 'L',
            size: 4
        });
        document.getElementById('qr-code-articles/installation-notes-testopia.html').appendChild(img);
    </script>
      <h1 class="entry-title">Installation notes Testopia</h1>
    <p class="meta">
<time datetime="2013-04-21T21:00:00+02:00" pubdate>Sun 21 April 2013</time>    </p>
</header>

  <div class="entry-content"><p>Testopia is a testcase management system built as an extension on Bugzilla. This post contains my installation notes and my efforts to make this work on my local installation. This will be updated as I go along.
<!-- more --></p>
<h3 id="testopia-testcase-management-system">Testopia testcase management system</h3>
<h3 id="requirements">Requirements</h3>
<p>The Testopia Extension requires Bugzilla &gt;4.2.
Testopi version 2.5 is the first release that does not need a patch on Bugzilla to work.</p>
<h3 id="old-notes-relevant-before-v25">old notes relevant before v2.5</h3>
<h2 id="installation-of-testopia-extension">Installation of Testopia extension</h2>
<h3 id="how-to-get-testopia">How to get Testopia</h3>
<p _="%" endhighlight>{% highlight bash %}
$ bzr branch bzr://bzr.mozilla.org/bugzilla/extensions/testopia/trunk</p>
<h3 id="patch-bugzilla-42">Patch Bugzilla 4.2</h3>
<p>Note: 603-2012: No patch for 4.2 available at time of patching</p>
<ol>
<li>cd to the directory with the Testopia trunk</li>
<li>copy items from the downloaded Testopia trunk </li>
<li>cd /usr/local/bugzilla</li>
<li>paste items from the downloaded Testopia trunk and merge the extensions directory</li>
<li>patch -p0 -i extensions/Testopia/patch-4.0
patching file Bugzilla/Bug.pm
Hunk #1 succeeded at 3628 (offset 101 lines).
patching file Bugzilla/Constants.pm
Hunk #1 succeeded at 145 (offset 1 line).
Hunk #2 succeeded at 470 (offset 5 lines).
patching file Bugzilla/Error.pm
Hunk #2 succeeded at 145 (offset -6 lines).
patching file Bugzilla/Install/Filesystem.pm
Hunk #1 succeeded at 153 (offset 3 lines).
patching file Bugzilla/Search.pm
Hunk #1 FAILED at 510.
1 out of 1 hunk FAILED -- saving rejects to file Bugzilla/Search.pm.rej
patching file Bugzilla/User.pm
Hunk #1 succeeded at 575 with fuzz 1 (offset 67 lines).
Hunk #2 succeeded at 936 (offset 82 lines).
Hunk #3 succeeded at 1292 (offset 130 lines).
patching file template/en/default/global/setting-descs.none.tmpl</li>
</ol>
<h3 id="run-checksetuppl">Run .checksetup.pl</h3>
<p>./checksetup.pl</p>
<h3 id="install-additional-dependencies">Install additional dependencies</h3>
<p _="%" endhighlight>{% highlight bash %}
$ sudo /usr/bin/perl install-module.pl Text::Diff
$ sudo /usr/bin/perl install-module.pl GD::Graph3d</p>
<h3 id="run-checksetup-again">Run .checksetup again</h3>
<p _="%" endhighlight>{% highlight bash %}
$ ./checksetup.pl</p>
<p>You should now get </p>
<p _="%" endhighlight>{% highlight bash %}
$ checksetup.pl complete.</p>
<h3 id="errors-on-filter-url_quote">Errors on FILTER url_quote</h3>
<p>Template-&gt;process() failed twice.
First error: undef error - url_quote: filter not found
Second error: undef error - url_quote: filter not found</p>
<p>Seems this is deprecated</p>
<p>Found Bugzilla message 398701 with fix</p>
<p _="%" endhighlight>{% highlight bash %}
find . <em>-type f -name "</em>.tmpl" -exec replace 'FILTER url_quote' 'FILTER uri' -- {} \;*</p>
<p _="%" endhighlight>Executed this from the Testopia extensions directory this updated a number of template files:
{% highlight bash %}
./template/en/default/hook/bug/create/create-end.html.tmpl converted
./template/en/default/hook/bug/edit-after_custom_fields.html.tmpl converted
./template/en/default/hook/bug/process/results-links.html.tmpl converted
./template/en/default/hook/global/common-links-link-row.html.tmpl converted
./template/en/default/hook/global/useful-links-end.html.tmpl converted
./template/en/default/testopia/reports/build-coverage.html.tmpl converted
./template/en/default/testopia/reports/completion.html.tmpl converted
./template/en/default/testopia/reports/execution.html.tmpl converted
./template/en/default/testopia/reports/priority-breakdown.html.tmpl converted
./template/en/default/testopia/reports/report-table.html.tmpl converted
./template/en/default/testopia/reports/report.html.tmpl converted
./template/en/default/testopia/reports/status.html.tmpl converted
./template/en/default/testopia/tag/list.html.tmpl converted</p>
<h3 id="additional-patching">Additional patching</h3>
<h4 id="searchpm">Search.pm</h4>
<p>There seems to be a problem in Bugzilla/Search.pm</p>
<p _="%" bash highlight>A patch was suggested in BZ 596325
I copied the patch file and applied it</p>
<p _="%" endhighlight>$ sudo patch -p0 -i extensions/Testopia/patch-bz596325
$ chgrp the Search.pm  and make it member of the _www group</p>
<p>Patch works and now Testopia-&gt; My plans does not give an error anymore</p>
<h3 id="new-plan">New plan</h3>
<p>It seems the link New plan is not working.
In the Apache error_log there are a lot of errors</p>
<p _="%" endhighlight>{% highlight bash %}
File does not exist: /Library/WebServer/Documents/bugzilla/extensions/Testopia/extjs, referer: http://tooh.homedns.org/bugzilla/tr_new_plan.cgi</p>
<p>I did not install the extjs files so probably this is the problem.</p>
<p _="%" bash highlight>On the Testopia wiki there is some instructions</p>
<p _="%" endhighlight>$&gt; cd path/to/bugzilla/testopia/
$&gt; wget http://extjs.com/deploy/ext-3.2.1.zip
$&gt; unzip ext-3.2.1.zip
$&gt; mv ext-3.2.1 extjs</p>
<p>Found out that the files are not there anymore
Downloaded the older version
http://www.sencha.com/products/extjs/download/ext-js-3.2.1</p>
<p>Renamed the folder to extjs</p>
<p>Note: Don't forget to refresh. And now it is working.</p>
<h3 id="new-run">New run</h3>
<p>Initially no testcases where shown.
Investigation of the /var/log/apache2/error_log showed that there was an error with een uninitialized variable.
I commented out use strict in the header of
/usr/local/bugzilla/extensions/Testopia/lib/Search.pm</p>
<p>Everything OK now.</p>
<h3 id="reference">Reference</h3>
<p>[1]
<a href="http://www.mozilla.org/projects/testopia/">Testopia Mozilla</a></p></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Peter Florijn
    </span>
  </span>
<time datetime="2013-04-21T21:00:00+02:00" pubdate>Sun 21 April 2013</time>  <span class="categories">
    <a class='category' href='https://blog.florijnconsultancy.nl/category/installation.html'>Installation</a>
  </span>
  <span class="categories">
    <a class="category" href="https://blog.florijnconsultancy.nl/tag/testopia-bugzilla-testmanagement.html">testopia bugzilla testmanagement</a>  </span>
</p><div class="sharing">
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html" data-via="peterflorijn" data-counturl="https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html" >Tweet</a>
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
	  <img src="https://blog.florijnconsultancy.nl/images/peterflorijn.jpg" alt="Yes, that is me!" width="200"/> 
  </section>
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://blog.florijnconsultancy.nl/articles/test-today.html">test today</a>
      </li>
      <li class="post">
          <a href="https://blog.florijnconsultancy.nl/articles/test.html">test</a>
      </li>
      <li class="post">
          <a href="https://blog.florijnconsultancy.nl/articles/test_includes_new.html">test_includes_new</a>
      </li>
      <li class="post">
          <a href="https://blog.florijnconsultancy.nl/articles/update-nodejs-on-raspberry-pi-3.html">Update node.js on Raspberry Pi 3</a>
      </li>
      <li class="post">
          <a href="https://blog.florijnconsultancy.nl/articles/testgantt.html">testgantt</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://blog.florijnconsultancy.nl/category/articles.html">articles</a></li>
        <li><a href="https://blog.florijnconsultancy.nl/category/blogging.html">Blogging</a></li>
        <li><a href="https://blog.florijnconsultancy.nl/category/installation.html">Installation</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="https://blog.florijnconsultancy.nl/tag/.html">[]</a>,    <a href="https://blog.florijnconsultancy.nl/tag/osx.html">OSX]</a>,    <a href="https://blog.florijnconsultancy.nl/tag/markdown.html">markdown]</a>,    <a href="https://blog.florijnconsultancy.nl/tag/firewall.html">firewall</a>,    <a href="https://blog.florijnconsultancy.nl/tag/rest.html">[rest</a>,    <a href="https://blog.florijnconsultancy.nl/tag/telephony.html">telephony</a>,    <a href="https://blog.florijnconsultancy.nl/tag/diskstation.html">diskstation</a>,    <a href="https://blog.florijnconsultancy.nl/tag/skype.html">skype</a>,    <a href="https://blog.florijnconsultancy.nl/tag/testmanagement-opensource-project.html">testmanagement opensource project</a>,    <a href="https://blog.florijnconsultancy.nl/tag/testopia-bugzilla-testmanagement.html">testopia bugzilla testmanagement</a>,    <a href="https://blog.florijnconsultancy.nl/tag/media.html">[Media</a>,    <a href="https://blog.florijnconsultancy.nl/tag/videocalls.html">videocalls</a>,    <a href="https://blog.florijnconsultancy.nl/tag/synology.html">synology</a>,    <a href="https://blog.florijnconsultancy.nl/tag/diagrams.html">diagrams</a>,    <a href="https://blog.florijnconsultancy.nl/tag/docx.html">[docx</a>,    <a href="https://blog.florijnconsultancy.nl/tag/plantuml.html">plantuml</a>,    <a href="https://blog.florijnconsultancy.nl/tag/python.html">python]</a>,    <a href="https://blog.florijnconsultancy.nl/tag/plex.html">Plex</a>,    <a href="https://blog.florijnconsultancy.nl/tag/voip.html">VOIP</a>,    <a href="https://blog.florijnconsultancy.nl/tag/convert.html">convert</a>,    <a href="https://blog.florijnconsultancy.nl/tag/bugzilla.html">bugzilla</a>,    <a href="https://blog.florijnconsultancy.nl/tag/github-blog-ruby.html">github blog ruby</a>,    <a href="https://blog.florijnconsultancy.nl/tag/workplace.html">workplace</a>,    <a href="https://blog.florijnconsultancy.nl/tag/security.html">security</a>  </section>



  <section>
    <h1>GitHub Repos</h1>
    <ul id="gh_repos">
      <li class="loading">Status updating...</li>
    </ul>
      <a href="https://github.com/tooh">@tooh</a> on GitHub
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
    <script type="text/javascript">
      $.domReady(function(){
          if (!window.jXHR){
              var jxhr = document.createElement('script');
              jxhr.type = 'text/javascript';
              jxhr.src = 'https://blog.florijnconsultancy.nl/theme/js/jXHR.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(jxhr, s);
          }

          github.showRepos({
              user: 'tooh',
              count: 5,
              skip_forks: true,
              target: '#gh_repos'
          });
      });
    </script>
    <script src="https://blog.florijnconsultancy.nl/theme/js/github.js" type="text/javascript"> </script>
  </section>

    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://github.com/tooh" target="_blank">github</a></li>
            <li><a href="https://twitter.com/peterflorijn" target="_blank">twitter-square</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
            <li><a href="http://python.org/" target="_blank">Python.org</a></li>
            <li><a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a></li>
            <li><a href="#" target="_blank">You can modify those links in your config file</a></li>
        </ul>
    </section>

<section>
    <p>Follow <a href="http://twitter.com/peterflorijn">@peterflorijn</a></p>
</section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2013&ndash;2019  Peter Florijn &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="https://blog.florijnconsultancy.nl/theme/js/modernizr-2.0.js"></script>
  <script src="https://blog.florijnconsultancy.nl/theme/js/ender.js"></script>
  <script src="https://blog.florijnconsultancy.nl/theme/js/octopress.js" type="text/javascript"></script>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-40315219-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40315219-1');
    ga('send', 'pageview');
</script>
  <script type="text/javascript">
    var disqus_shortname = 'dailyscrum';
    var disqus_identifier = '/articles/installation-notes-testopia.html';
    var disqus_url = 'https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html';
    var disqus_title = 'Installation notes Testopia';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
</body>
</html>