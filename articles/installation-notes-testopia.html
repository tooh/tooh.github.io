<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Peter Florijn" />

        <meta name="twitter:creator" content="@peterflorijn">
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="testopia bugzilla testmanagement, Installation, " />

<meta property="og:title" content="Installation notes Testopia "/>
<meta property="og:url" content="https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html" />
<meta property="og:description" content="Testopia is a testcase management system built as an extension on Bugzilla. This post contains my installation notes and my efforts to make Testopia work on my local installation. This will be updated as I go along." />
<meta property="og:site_name" content="Daily Scrum" />
<meta property="og:article:author" content="Peter Florijn" />
<meta property="og:article:published_time" content="2013-04-21T21:00:00+02:00" />
<meta name="twitter:title" content="Installation notes Testopia ">
<meta name="twitter:description" content="Testopia is a testcase management system built as an extension on Bugzilla. This post contains my installation notes and my efforts to make Testopia work on my local installation. This will be updated as I go along.">
<meta property="og:image" content="/theme/images/apple-touch-icon-152x152.png" />
<meta name="twitter:image" content="/theme/images/apple-touch-icon-152x152.png" >

        <title>Installation notes Testopia  · Daily Scrum
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://blog.florijnconsultancy.nl/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://blog.florijnconsultancy.nl/theme/css/custom.css" media="screen">

        <link href="https://blog.florijnconsultancy.nl/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Daily Scrum - Full Atom Feed" />
        <link href="https://blog.florijnconsultancy.nl/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Daily Scrum - Full RSS Feed" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://blog.florijnconsultancy.nl/"><span class=site-name>Daily Scrum</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://blog.florijnconsultancy.nl
                                    >Home</a>
                                </li>
                                <li ><a href="https://blog.florijnconsultancy.nl/categories.html">Categories</a></li>
                                <li ><a href="https://blog.florijnconsultancy.nl/tags.html">Tags</a></li>
                                <li ><a href="https://blog.florijnconsultancy.nl/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://blog.florijnconsultancy.nl/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html">
                Installation notes&nbsp;Testopia
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>Testopia is a testcase management system built as an extension on Bugzilla. This post contains my installation notes and my efforts to make this work on my local installation. This will be updated as I go&nbsp;along.</p>
<!-- more -->

<h3 id="testopia-testcase-management-system">Testopia testcase management system<a class="headerlink" href="#testopia-testcase-management-system" title="Permanent link">&para;</a></h3>
<h3 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h3>
<p>The Testopia Extension requires Bugzilla &gt;4.2.
Testopia version 2.5 is the first release that does not need a patch on Bugzilla to&nbsp;work.</p>
<h3 id="old-notes-relevant-before-v25">old notes relevant before v2.5<a class="headerlink" href="#old-notes-relevant-before-v25" title="Permanent link">&para;</a></h3>
<h2 id="installation-of-testopia-extension">Installation of Testopia extension<a class="headerlink" href="#installation-of-testopia-extension" title="Permanent link">&para;</a></h2>
<h3 id="how-to-get-testopia">How to get Testopia<a class="headerlink" href="#how-to-get-testopia" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>bzr<span class="w"> </span>branch<span class="w"> </span>bzr://bzr.mozilla.org/bugzilla/extensions/testopia/trunk
</code></pre></div>

<h3 id="patch-bugzilla-42">Patch Bugzilla 4.2<a class="headerlink" href="#patch-bugzilla-42" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">Note</span><span class="o">:</span><span class="w"> </span><span class="mi">603</span><span class="o">-</span><span class="mi">2012</span><span class="o">:</span><span class="w"> </span><span class="n">No</span><span class="w"> </span><span class="n">patch</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="mf">4.2</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">patching</span>
</code></pre></div>

<ol>
<li>cd to the directory with the Testopia&nbsp;trunk</li>
<li>copy items from the downloaded Testopia&nbsp;trunk </li>
<li>cd&nbsp;/usr/local/bugzilla</li>
<li>paste items from the downloaded Testopia trunk and merge the extensions&nbsp;directory</li>
<li>
<p>patch -p0 -i&nbsp;extensions/Testopia/patch-4.0</p>
<p>:::bash
patching file Bugzilla/Bug.pm
Hunk #1 succeeded at 3628 (offset 101 lines).
patching file Bugzilla/Constants.pm
Hunk #1 succeeded at 145 (offset 1 line).
Hunk #2 succeeded at 470 (offset 5 lines).
patching file Bugzilla/Error.pm
Hunk #2 succeeded at 145 (offset -6 lines).
patching file Bugzilla/Install/Filesystem.pm
Hunk #1 succeeded at 153 (offset 3 lines).
patching file Bugzilla/Search.pm
Hunk #1 <span class="caps">FAILED</span> at 510.
1 out of 1 hunk <span class="caps">FAILED</span> &ndash; saving rejects to file Bugzilla/Search.pm.rej
patching file Bugzilla/User.pm
Hunk #1 succeeded at 575 with fuzz 1 (offset 67 lines).
Hunk #2 succeeded at 936 (offset 82 lines).
Hunk #3 succeeded at 1292 (offset 130 lines).
patching file&nbsp;template/en/default/global/setting-descs.none.tmpl</p>
</li>
</ol>
<h3 id="run-checksetuppl">Run .checksetup.pl<a class="headerlink" href="#run-checksetuppl" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>./checksetup.pl
</code></pre></div>

<h3 id="install-additional-dependencies">Install additional dependencies<a class="headerlink" href="#install-additional-dependencies" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sudo<span class="w"> </span>/usr/bin/perl<span class="w"> </span>install-module.pl<span class="w"> </span>Text::Diff
$<span class="w"> </span>sudo<span class="w"> </span>/usr/bin/perl<span class="w"> </span>install-module.pl<span class="w"> </span>GD::Graph3d
</code></pre></div>

<h3 id="run-checksetup-again">Run .checksetup again<a class="headerlink" href="#run-checksetup-again" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>./checksetup.pl
</code></pre></div>

<p>You should now&nbsp;get </p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>checksetup.pl<span class="w"> </span>complete.
</code></pre></div>

<h3 id="errors-on-filter-url_quote">Errors on <span class="caps">FILTER</span> url_quote<a class="headerlink" href="#errors-on-filter-url_quote" title="Permanent link">&para;</a></h3>
<p>Template-&gt;process() failed twice.
First error: undef error - url_quote: filter not found
Second error: undef error - url_quote: filter not&nbsp;found</p>
<p>Seems this is&nbsp;deprecated</p>
<p>Found Bugzilla message 398701 with&nbsp;fix</p>
<div class="highlight"><pre><span></span><code>find<span class="w"> </span>.<span class="w"> </span>*-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;*.tmpl&quot;</span><span class="w"> </span>-exec<span class="w"> </span>replace<span class="w"> </span><span class="s1">&#39;FILTER url_quote&#39;</span><span class="w"> </span><span class="s1">&#39;FILTER uri&#39;</span><span class="w"> </span>--<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span>*

Executed<span class="w"> </span>this<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>Testopia<span class="w"> </span>extensions<span class="w"> </span>directory<span class="w"> </span>this<span class="w"> </span>updated<span class="w"> </span>a<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>template<span class="w"> </span>files:
:::bash
./template/en/default/hook/bug/create/create-end.html.tmpl<span class="w"> </span>converted
./template/en/default/hook/bug/edit-after_custom_fields.html.tmpl<span class="w"> </span>converted
./template/en/default/hook/bug/process/results-links.html.tmpl<span class="w"> </span>converted
./template/en/default/hook/global/common-links-link-row.html.tmpl<span class="w"> </span>converted
./template/en/default/hook/global/useful-links-end.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/build-coverage.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/completion.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/execution.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/priority-breakdown.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/report-table.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/report.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/reports/status.html.tmpl<span class="w"> </span>converted
./template/en/default/testopia/tag/list.html.tmpl<span class="w"> </span>converted
</code></pre></div>

<h3 id="additional-patching">Additional patching<a class="headerlink" href="#additional-patching" title="Permanent link">&para;</a></h3>
<h4 id="searchpm">Search.pm<a class="headerlink" href="#searchpm" title="Permanent link">&para;</a></h4>
<p>There seems to be a problem in&nbsp;Bugzilla/Search.pm</p>
<p>A patch was suggested in <span class="caps">BZ</span> 596325
I copied the patch file and applied it
    :::bash
    $ sudo patch -p0 -i extensions/Testopia/patch-bz596325
    $ chgrp the Search.pm  and make it member of the _www&nbsp;group</p>
<p>Patch works and now Testopia-&gt; My plans does not give an error&nbsp;anymore</p>
<h3 id="new-plan">New plan<a class="headerlink" href="#new-plan" title="Permanent link">&para;</a></h3>
<p>It seems the link New plan is not working.
In the Apache error_log there are a lot of&nbsp;errors</p>
<div class="highlight"><pre><span></span><code>File<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>exist:<span class="w"> </span>/Library/WebServer/Documents/bugzilla/extensions/Testopia/extjs,<span class="w"> </span>referer:<span class="w"> </span>http://<span class="w">  </span>tooh.homedns.org/bugzilla/tr_new_plan.cgi
</code></pre></div>

<p>I did not install the extjs files so probably this is the&nbsp;problem.</p>
<p>On the Testopia wiki there is some instructions&nbsp;:::bash</p>
<div class="highlight"><pre><span></span><code>$&gt; cd path/to/bugzilla/testopia/
$&gt; wget http://extjs.com/deploy/ext-3.2.1.zip
$&gt; unzip ext-3.2.1.zip
$&gt; mv ext-3.2.1 extjs
</code></pre></div>

<p>Found out that the files are not there anymore
Downloaded the older version&nbsp;http://www.sencha.com/products/extjs/download/ext-js-3.2.1</p>
<p>Renamed the folder to&nbsp;extjs</p>
<p>Note: Don&rsquo;t forget to refresh. And now it is&nbsp;working.</p>
<h3 id="new-run">New run<a class="headerlink" href="#new-run" title="Permanent link">&para;</a></h3>
<p>Initially no testcases where shown.
Investigation of the /var/log/apache2/error_log showed that there was an error with een uninitialized variable.
I commented out use strict in the header of&nbsp;/usr/local/bugzilla/extensions/Testopia/lib/Search.pm</p>
<p>Everything <span class="caps">OK</span>&nbsp;now.</p>
<h3 id="reference">Reference<a class="headerlink" href="#reference" title="Permanent link">&para;</a></h3>
<p>[1]
<a href="http://www.mozilla.org/projects/testopia/">Testopia&nbsp;Mozilla</a></p>


             
 
            
            
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message">So what do you think? Did I miss something? Is any part unclear? Leave your comments below. </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   data-disqus-identifier="https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html"
                   href="https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">
                        <div id="disqus_thread"></div>
                        <script>
    var disqus_shortname = 'dailyscrum';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());

    var disqus_identifier = 'https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html';
    var disqus_url = 'https://blog.florijnconsultancy.nl/articles/installation-notes-testopia.html';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2013-04-21T21:00:00+02:00">Apr 21, 2013</time>
            <h4>Category</h4>
            <a class="category-link" href="https://blog.florijnconsultancy.nl/categories.html#installation-ref">Installation</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://blog.florijnconsultancy.nl/tags.html#testopia-bugzilla-testmanagement-ref">testopia bugzilla testmanagement
                    <span>1</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/Pelican-Elegant/" title="Elegant Github Repository" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
    <a href="https://github.com/Pelican-Elegant/elegant/milestones" title="Elegant Project Roadmap" target="_blank" rel="nofollow noopener noreferrer">
        <svg onload="w()" xmlns="http://www.w3.org/2000/svg" aria-label="Calendar" role="img" viewBox="0 0 512 512" font-family="monospace" text-anchor="middle" fill="#667777"><script type="text/ecmascript"><![CDATA[w=()=>{c=0;for (i in e={weekday:"long",month:"short",day:'numeric'}) document.getElementsByTagName('text')[c++].textContent=(new Date).toLocaleString(undefined,{[i]:e[i]})}]]></script><defs><clipPath id="c"><rect width="512" height="512" rx="15%"/></clipPath></defs><g clip-path="url(#c)"><rect width="512" height="512" fill="#dee"/><rect width="512" height="180" fill="#d34"/></g><g id="b"><circle fill="#eab" cx="384" cy="100" r="14" id="a"/><use x="43"/><use x="86"/></g><use y="43"/><text font-size="64" x="256" y="480" id="w">Sunday</text><text fill="#fff" font-size="140" x="140" y="164" id="m">FEB</text><text font-size="256" x="256" y="400" id="d">29</text></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        
&copy; Copyright 2024 by Peter Florijn and licensed under a <a rel="license"
  href="http://creativecommons.org/licenses/by/4.0/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />
  Creative Commons Attribution 4.0 International License</a>.

    </div>

    <div>
        <span class="site-name">Daily Scrum</span> - A personal blog
    </div>



    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>